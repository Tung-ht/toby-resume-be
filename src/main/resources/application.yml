# Phase 1 MVP — Base configuration (docs/ai/design/phase1-mvp.md §11)
# Override via environment variables or application-{profile}.yml

server:
  port: 8080

spring:
  application:
    name: tobyresume-backend
  data:
    mongodb:
      uri: ${MONGODB_URI:mongodb://localhost:27017/tobyresume}
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_CLIENT_ID:placeholder}
            client-secret: ${GOOGLE_CLIENT_SECRET:placeholder}
            scope: email, profile
          github:
            client-id: ${GITHUB_CLIENT_ID:placeholder}
            client-secret: ${GITHUB_CLIENT_SECRET:placeholder}
            scope: user:email
  graphql:
    graphiql:
      enabled: false
    path: /graphql
    schema:
      locations: classpath:graphql/

app:
  security:
    allowed-admins:
      - ${ADMIN_EMAIL:placeholder@local}
    jwt:
      secret: ${JWT_SECRET:dev-jwt-secret-change-in-production}
      expiration-ms: ${JWT_EXPIRATION_MS:86400000}
    oauth2:
      redirect-uri: ${ADMIN_PANEL_URL:http://localhost:3000}/auth/callback
  cors:
    allowed-origins:
      - ${ADMIN_PANEL_ORIGIN:http://localhost:3000}
      - ${LANDING_PAGE_ORIGIN:http://localhost:3001}
    allowed-methods: GET, POST, PUT, DELETE, OPTIONS
    allowed-headers: Content-Type, Authorization
    allow-credentials: true
    max-age: 3600

# OpenAPI (Phase K): /v3/api-docs, /swagger-ui.html
springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html

management:
  endpoints:
    web:
      exposure:
        include: health, info
  endpoint:
    health:
      show-details: when-authorized
      probes:
        enabled: true
